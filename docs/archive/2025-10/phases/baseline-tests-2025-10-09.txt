test
+- run test 180/181 passed, 1 failed
error: 'emulation.State.test.EmulationState: odd frame skip when rendering enabled' failed: expected 1, found 0
/home/colin/.local/lib/zig/std/testing.zig:110:17: 0x11dc41a in expectEqualInner__anon_31379 (std.zig)
                return error.TestExpectedEqual;
                ^
/home/colin/Development/RAMBO/src/emulation/State.zig:2138:5: 0x1276dfd in test.EmulationState: odd frame skip when rendering enabled (root.zig)
    try testing.expectEqual(@as(u16, 1), state.clock.dot());
    ^
error: while executing test 'mailboxes.SpscRingBuffer.test.SpscRingBuffer: struct element type', the following test command failed:
./.zig-cache/o/8f9dbcc2be94d16a109b2e9bd430aac3/test --cache-dir=./.zig-cache --seed=0xc7219862 --listen=-
test
+- run test 0/2 passed, 2 failed
error: 'clock_sync_test.test.Clock Sync: PPU processes current position, not next' failed: /home/colin/.local/lib/zig/std/testing.zig:607:14: 0x1046089 in expect (std.zig)
    if (!ok) return error.TestUnexpectedResult;
             ^
/home/colin/Development/RAMBO/tests/ppu/clock_sync_test.zig:41:5: 0x1046948 in test.Clock Sync: PPU processes current position, not next (clock_sync_test.zig)
    try testing.expect(!state.ppu.status.vblank);
    ^
error: 'clock_sync_test.test.Clock Sync: VBlank sets when PPU processes 241.1' failed: expected 2, found 1
/home/colin/.local/lib/zig/std/testing.zig:110:17: 0x104603a in expectEqualInner__anon_2199 (std.zig)
                return error.TestExpectedEqual;
                ^
/home/colin/Development/RAMBO/tests/ppu/clock_sync_test.zig:87:5: 0x11b9fad in test.Clock Sync: VBlank sets when PPU processes 241.1 (clock_sync_test.zig)
    try testing.expectEqual(@as(u16, 2), vblank_set_at_clock_dot.?);
    ^
error: while executing test 'clock_sync_test.test.Clock Sync: VBlank sets when PPU processes 241.1', the following test command failed:
./.zig-cache/o/ad536ceb66df960ceb272a5b5cd590ed/test --cache-dir=./.zig-cache --seed=0xc7219862 --listen=-
test
+- run test 0/1 passed, 1 failed
error: 'vblank_debug_test.test.VBlank Debug: What happens when we poll continuously?' failed: expected 999, found 0
/home/colin/.local/lib/zig/std/testing.zig:110:17: 0x1047469 in expectEqualInner__anon_2589 (std.zig)
                return error.TestExpectedEqual;
                ^
/home/colin/Development/RAMBO/tests/ppu/vblank_debug_test.zig:65:9: 0x10481ab in test.VBlank Debug: What happens when we poll continuously? (vblank_debug_test.zig)
        try testing.expectEqual(@as(usize, 999), total_detections); // Will show 0
        ^
error: while executing test 'vblank_debug_test.test.VBlank Debug: What happens when we poll continuously?', the following test command failed:
./.zig-cache/o/f61d8243f28acc46528ac2a166dd73be/test --cache-dir=./.zig-cache --seed=0xc7219862 --listen=-
test
+- run test 1/3 passed, 2 failed
error: 'bomberman_hang_investigation.test.Bomberman: Find exact hang location with PC tracking' failed: expected 65535, found 49165
/home/colin/.local/lib/zig/std/testing.zig:110:17: 0x104b20a in expectEqualInner__anon_2698 (std.zig)
                return error.TestExpectedEqual;
                ^
/home/colin/Development/RAMBO/tests/integration/bomberman_hang_investigation.zig:94:9: 0x104d5f0 in test.Bomberman: Find exact hang location with PC tracking (bomberman_hang_investigation.zig)
        try testing.expectEqual(@as(u16, 0xFFFF), hang_pc); // Will show actual hang PC
        ^
error: 'bomberman_hang_investigation.test.Bomberman: Check for specific wait patterns' failed: expected 65535, found 8194
/home/colin/.local/lib/zig/std/testing.zig:110:17: 0x104b20a in expectEqualInner__anon_2698 (std.zig)
                return error.TestExpectedEqual;
                ^
/home/colin/Development/RAMBO/tests/integration/bomberman_hang_investigation.zig:231:21: 0x11c8a9f in test.Bomberman: Check for specific wait patterns (bomberman_hang_investigation.zig)
                    try testing.expectEqual(@as(u16, 0xFFFF), addr); // Will show stuck address
                    ^
error: while executing test 'bomberman_hang_investigation.test.Bomberman: Check for specific wait patterns', the following test command failed:
./.zig-cache/o/9ddf240fde9f295c85b2fc7589f4f5e2/test --cache-dir=./.zig-cache --seed=0xc7219862 --listen=-
test
+- run test 5/7 passed, 2 failed
error: 'ppustatus_polling_test.test.PPUSTATUS Polling: Multiple polls within VBlank period' failed: /home/colin/.local/lib/zig/std/testing.zig:607:14: 0x1047359 in expect (std.zig)
    if (!ok) return error.TestUnexpectedResult;
             ^
/home/colin/Development/RAMBO/tests/ppu/ppustatus_polling_test.zig:153:5: 0x11bba47 in test.PPUSTATUS Polling: Multiple polls within VBlank period (ppustatus_polling_test.zig)
    try testing.expect(detected_count >= 1);
    ^
error: 'ppustatus_polling_test.test.PPUSTATUS Polling: BIT instruction timing - when does read occur?' failed: === BIT $2002 Execution Trace ===
Starting at scanline=241, dot=1
VBlank flag: true

CPU Cycle 1 (fetch_opcode): Before
  State: fetch_operand_low, VBlank: true
  After: State: fetch_operand_low, VBlank: true, PC: 0x0002

CPU Cycle 2 (fetch_operand_low): Before
  State: fetch_operand_low, VBlank: true
  After: State: fetch_operand_low, VBlank: true, operand_low: 0x00

CPU Cycle 3 (fetch_operand_high): Before
  State: fetch_operand_low, VBlank: true
  After: State: fetch_operand_low, VBlank: true, operand_high: 0x00

CPU Cycle 4 (execute - SHOULD READ $2002 HERE): Before
  State: fetch_operand_low, VBlank: true
  CRITICAL: VBlank MUST be true here for BIT to see it
  After: State: fetch_opcode, VBlank: true
  CPU N flag (bit 7): false, V flag (bit 6): false
/home/colin/.local/lib/zig/std/testing.zig:607:14: 0x1047359 in expect (std.zig)
    if (!ok) return error.TestUnexpectedResult;
             ^
/home/colin/Development/RAMBO/tests/ppu/ppustatus_polling_test.zig:308:5: 0x11bed6e in test.PPUSTATUS Polling: BIT instruction timing - when does read occur? (ppustatus_polling_test.zig)
    try testing.expect(!harness.state.ppu.status.vblank);
    ^
error: while executing test 'ppustatus_polling_test.test.PPUSTATUS Polling: BIT instruction timing - when does read occur?', the following test command failed:
./.zig-cache/o/c37f0b23eed0b61c8cb36dbd54028e93/test --cache-dir=./.zig-cache --seed=0xc7219862 --listen=-
test
+- run test 0/1 passed, 1 failed
error: 'commercial_nmi_trace_test.test.Commercial NMI Trace: Bomberman first 3 frames' failed: /home/colin/.local/lib/zig/std/testing.zig:607:14: 0x104a1e9 in expect (std.zig)
    if (!ok) return error.TestUnexpectedResult;
             ^
/home/colin/Development/RAMBO/tests/integration/commercial_nmi_trace_test.zig:117:5: 0x104b479 in test.Commercial NMI Trace: Bomberman first 3 frames (commercial_nmi_trace_test.zig)
    try testing.expect(vblank_count > 0); // Should have seen VBlanks
    ^
error: while executing test 'commercial_nmi_trace_test.test.Commercial NMI Trace: Bomberman first 3 frames', the following test command failed:
./.zig-cache/o/afb8cddab053bc565cfaf347e94df855/test --cache-dir=./.zig-cache --seed=0xc7219862 --listen=-
test
+- run test 0/3 passed, 3 failed
error: 'bomberman_detailed_hang_analysis.test.Bomberman: Trace scanline progression' failed: expected 999, found 261
/home/colin/.local/lib/zig/std/testing.zig:110:17: 0x104a20a in expectEqualInner__anon_2590 (std.zig)
                return error.TestExpectedEqual;
                ^
/home/colin/Development/RAMBO/tests/integration/bomberman_detailed_hang_analysis.zig:84:5: 0x104afb6 in test.Bomberman: Trace scanline progression (bomberman_detailed_hang_analysis.zig)
    try testing.expectEqual(@as(u16, 999), max_scanline_reached); // Show max scanline
    ^
error: 'bomberman_detailed_hang_analysis.test.Bomberman: Check if PPU is enabled' failed: expected 255, found 0
/home/colin/.local/lib/zig/std/testing.zig:110:17: 0x11c3b04 in expectEqualInner__anon_27022 (std.zig)
                return error.TestExpectedEqual;
                ^
/home/colin/Development/RAMBO/tests/integration/bomberman_detailed_hang_analysis.zig:135:5: 0x11c4409 in test.Bomberman: Check if PPU is enabled (bomberman_detailed_hang_analysis.zig)
    try testing.expectEqual(@as(u8, 0xFF), ppuctrl);
    ^
error: 'bomberman_detailed_hang_analysis.test.Bomberman: Check CPU/PPU cycle ratio' failed: expected 999999, found 33333
/home/colin/.local/lib/zig/std/testing.zig:110:17: 0x104a303 in expectEqualInner__anon_2671 (std.zig)
                return error.TestExpectedEqual;
                ^
/home/colin/Development/RAMBO/tests/integration/bomberman_detailed_hang_analysis.zig:181:5: 0x11c5970 in test.Bomberman: Check CPU/PPU cycle ratio (bomberman_detailed_hang_analysis.zig)
    try testing.expectEqual(@as(u64, 999999), cpu_delta);
    ^
error: while executing test 'bomberman_detailed_hang_analysis.test.Bomberman: Check CPU/PPU cycle ratio', the following test command failed:
./.zig-cache/o/bad324cba19f86808effc0f120994fe3/test --cache-dir=./.zig-cache --seed=0xc7219862 --listen=-
test
+- run test stderr
[vulkan] (warn): Validation layers requested but not available
[vulkan] (warn): Validation layers requested but not available
[vulkan] (warn): Validation layers requested but not available
[vulkan] (warn): Validation layers requested but not available
[vulkan] (warn): Validation layers requested but not available
test
+- run test 5/7 passed, 1 failed, 1 skipped
error: 'accuracycoin_execution_test.test.ROM Diagnosis: Compare PPU initialization sequences' failed: /home/colin/.local/lib/zig/std/testing.zig:607:14: 0x11c9529 in expect (std.zig)
    if (!ok) return error.TestUnexpectedResult;
             ^
/home/colin/Development/RAMBO/tests/integration/accuracycoin_execution_test.zig:166:13: 0x11c9cb0 in test.ROM Diagnosis: Compare PPU initialization sequences (accuracycoin_execution_test.zig)
            try testing.expect(rendering_enabled_frame != null);
            ^
error: while executing test 'rom_test_runner.test.RomTestRunner: extract error message', the following test command failed:
./.zig-cache/o/095a0feaed0ef53bc04c8ef769190897/test --cache-dir=./.zig-cache --seed=0xc7219862 --listen=-

Build Summary: 123/132 steps succeeded; 8 failed; 936/956 tests passed; 7 skipped; 13 failed
test transitive failure
+- run test 180/181 passed, 1 failed
+- run test 0/1 passed, 1 failed
+- run test 1/3 passed, 2 failed
+- run test 0/3 passed, 3 failed
+- run test 5/7 passed, 1 failed, 1 skipped
+- run test 5/7 passed, 2 failed
+- run test 0/1 passed, 1 failed
+- run test 0/2 passed, 2 failed

error: the following build command failed with exit code 1:
.zig-cache/o/4c2d5cd744f9d8e11e9dc2cf85a38b03/build /home/colin/.local/bin/zig /home/colin/.local/lib/zig /home/colin/Development/RAMBO .zig-cache /home/colin/.cache/zig --seed 0xc7219862 -Zc60634524675a9a8 test
